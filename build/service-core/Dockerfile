FROM pryv/base:1.0.0
MAINTAINER "Tech@Pryv" <tech@pryv.com>

ADD . /pd_build
RUN /pd_build/install.sh

# /var/pryv contains all configuration for Pryv. 
# /var/pryv/data will contain all data generated by the container.
VOLUME /var/pryv

# Ports: 
#   9000        main api server
#
EXPOSE 9000

# Configuration file for service-core. Override this to /var/pryv/SOMETHING to
# override the main configuration file. 
ENV APP_CONFIG "/var/src/service-core/default.json"

# Configuration file for previews. Override this to /var/pryv/SOMETHING to
# override the main configuration file. 
ENV PREVIEWS_CONFIG "/var/src/service-core/previews.json"
