#!/usr/bin/env node

// Starts a HTTP server for high frequency series. Main entry point for the high
// frequency series server. 

const Settings = require('../src/Settings');
const Server = require('../src/Server'); 

try {
  const settings = Settings.load(); 
  var server = new Server(settings); 
  server.start(); 
}
catch (err) {
  if (err.code == 'ENOENT') {
    console.error('Configuration file not found. '     // eslint-disable-line no-console
      + 'Default location is \'./hfs-server.json\'. '
      + 'Use --config to modify expected location.');
      
    process.exit(1);
  }

  console.error(`Fatal Error caught: ${err}`); // eslint-disable-line no-console
}